<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Teque√±os - YUMGIFTSBA</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#f6d7e7">
<style>
body { font-family: Arial, sans-serif; background:#fcebf3; margin:0; padding:20px; text-align:center; }
h1 { font-size:28px; color:#ff4c8b; margin-bottom:20px; }
.card { background:white; padding:15px; margin:10px auto; width:90%; max-width:400px; border-radius:12px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; }
.card h2 { margin:0; font-size:18px; }
.card p { margin:5px 0; font-weight:bold; width:100%; text-align:left; }
.qty-container { display:flex; align-items:center; justify-content:center; gap:10px; margin-top:5px; }
button.qty-btn { width:30px; height:30px; font-size:18px; border:none; border-radius:6px; background:#ff7aa6; color:white; cursor:pointer; }
input.qty { width:40px; text-align:center; }
.btn { display:inline-block; background:#25D366; padding:12px 20px; border-radius:8px; color:white; text-decoration:none; margin-top:20px; font-size:16px; }
.volver { display:block; margin:20px auto; color:#ff4c8b; font-weight:bold; text-decoration:none; }
#carritoBtn { position: fixed; top: 15px; right: 18px; background: #ff4c8b; color: white; padding: 10px 14px; border-radius: 10px; cursor: pointer; font-weight: bold; box-shadow: 0px 3px 6px rgba(0,0,0,0.25); }

/* POPUP MODAL */
#popup { display:none; position: fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.5); z-index: 999; }
#popup > div { background:white; padding:20px; border-radius:12px; max-width:400px; width:90%; text-align:left; position: fixed; top:50%; left:50%; transform: translate(-50%,-50%); }
#popup button { width:100%; margin-top:10px; font-size:16px; padding:10px; border:none; border-radius:6px; cursor:pointer; }
#popup h2 { margin-top:0; color:#ff4c8b; }
.total-popup { font-size:18px; font-weight:bold; color:#ff4c8b; }
</style>
</head>
<body>

<div id="carritoBtn">üõí $0</div>

<h1>Teque√±os</h1>
<a class="volver" href="index.html">‚Üê Volver al Men√∫ Principal</a>

<div class="card">
  <div><h2>Mini Teque√±os x25 (Crudos)</h2><p>$14000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="14000" data-nombre="Mini Teque√±os x25 (Crudos)">
    <button class="qty-btn">+</button>
  </div>
</div>

<div class="card">
  <div><h2>Mini Teque√±os x25 (Fritos)</h2><p>$18000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="18000" data-nombre="Mini Teque√±os x25 (Fritos)">
    <button class="qty-btn">+</button>
  </div>
</div>  

<div class="card">
  <div><h2>Teque√±os Clasicos x12 (Fritos)</h2><p>$15000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="15000" data-nombre="Teque√±os Clasicos x12 (Fritos)">
    <button class="qty-btn">+</button>
  </div>
</div>

<div class="card">
  <div><h2>Teque√±os Clasicos x12 (Crudos)</h2><p>$10000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="10000" data-nombre="Teque√±os Clasicos x12 (Crudos)">
    <button class="qty-btn">+</button>
  </div>
</div>

<a class="btn" id="whatsapp">Enviar Pedido por WhatsApp</a>

<!-- POPUP -->
<div id="popup">
  <div>
    <h2>Detalle de tu pedido</h2>
    <div id="popupProductos"></div>
    <p class="total-popup">Total: $<span id="popupTotal"></span></p>
    <button id="confirmPedido" style="background:#25D366; color:white;">Confirmar y enviar a WhatsApp</button>
    <button id="cerrarPopup" style="background:#ff4c8b; color:white;">Cancelar</button>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
  function guardarCarrito() {
    let carrito = [];
    document.querySelectorAll('.qty').forEach(input => {
      const cantidad = Number(input.value);
      if (cantidad > 0) {
        carrito.push({
          nombre: input.dataset.nombre,
          precio: Number(input.dataset.precio),
          cantidad: cantidad
        });
      }
    });
    localStorage.setItem("carritoYumgifts", JSON.stringify(carrito));
    actualizarCarritoBtn();
  }

  function actualizarCarritoBtn() {
    const carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];
    const total = carrito.reduce((s,i)=>s+(i.precio*i.cantidad),0);
    document.getElementById('carritoBtn').innerText = `üõí $${total}`;
  }

  document.querySelectorAll('.qty-btn').forEach(btn => {
    btn.addEventListener('click', ()=>{
      const input = btn.parentElement.querySelector('.qty');
      if(btn.textContent==='+') input.value++;
      if(btn.textContent==='-' && input.value>0) input.value--;
      guardarCarrito();
    });
  });

  document.querySelectorAll('.qty').forEach(i => i.addEventListener('input', guardarCarrito));

  // Mostrar popup
  document.getElementById('whatsapp').addEventListener('click', ()=>{
    const carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];
    if(carrito.length===0){ alert("Agreg√° productos primero"); return; }
    let html = carrito.map(i=>`<p>${i.nombre}: ${i.cantidad}</p>`).join('');
    document.getElementById('popupProductos').innerHTML = html;
    document.getElementById('popupTotal').innerText = carrito.reduce((s,i)=>s+i.precio*i.cantidad,0);
    document.getElementById('popup').style.display = 'block';
  });

  document.getElementById('cerrarPopup').addEventListener('click', ()=>{
    document.getElementById('popup').style.display = 'none';
  });

  document.getElementById('confirmPedido').addEventListener('click', ()=>{
    const carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];
    let total = carrito.reduce((s,i)=>s+i.precio*i.cantidad,0);
    let productos = carrito.map(i=>`${i.nombre}: ${i.cantidad}`).join("\n");
    let mensaje = `¬°Hola Yumgiftsba! Te paso mi pedido:\n\n${productos}\n\nTOTAL: $${total}`;
    window.open(`https://wa.me/5491135936372?text=${encodeURIComponent(mensaje)}`,'_blank');
    document.getElementById('popup').style.display = 'none';
  });

  actualizarCarritoBtn();
});
</script>

</body>
</html>
