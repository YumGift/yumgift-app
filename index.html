<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>YUMGIFTSBA - Donas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#f6d7e7">
<style>
body { font-family: Arial, sans-serif; background:#fcebf3; margin:0; padding:20px; text-align:center; }
h1 { font-size:28px; color:#ff4c8b; margin-bottom:20px; }
.card { background:white; padding:15px; margin:10px auto; width:90%; max-width:400px; border-radius:12px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; }
.card h2 { margin:0; font-size:18px; }
.card p { margin:5px 0; font-weight:bold; width:100%; text-align:left; }
.qty-container { display:flex; align-items:center; justify-content:center; gap:10px; margin-top:5px; }
button.qty-btn { width:30px; height:30px; font-size:18px; border:none; border-radius:6px; background:#ff7aa6; color:white; cursor:pointer; }
input.qty { width:40px; text-align:center; }

.btn { display:inline-block; background:#25D366; padding:12px 20px; border-radius:8px; color:white; text-decoration:none; margin-top:20px; font-size:16px; }
a.otros { display:block; margin:20px auto; color:#ff4c8b; font-weight:bold; text-decoration:none; }

/* BOTÃ“N CARRITO */
#carritoBtn {
  position: fixed;
  top: 15px;
  right: 18px;
  background: #ff4c8b;
  color: white;
  padding: 10px 14px;
  border-radius: 10px;
  cursor: pointer;
  font-weight: bold;
  box-shadow: 0px 3px 6px rgba(0,0,0,0.25);
}
</style>
</head>

<body>

<div id="carritoBtn">ðŸ›’ $0</div>

<h1>Donas</h1>
<a class="otros" href="otros.html">Ir a TequeÃ±os / Otros Productos â†’</a>

<div class="card">
  <div><h2>Docena Donas ClÃ¡sicas x12</h2><p>$6000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="6000" data-nombre="Docena Donas ClÃ¡sicas">
    <button class="qty-btn">+</button>
  </div>
</div>

<div class="card">
  <div><h2>Docena Donas ClÃ¡sicas 20</h2><p>$10000</p></div>
  <div class="qty-container">
    <button class="qty-btn">-</button>
    <input class="qty" type="number" min="0" value="0" data-precio="6000" data-nombre="Docena Donas ClÃ¡sicas">
    <button class="qty-btn">+</button>
  </div>
</div>
  
<a class="btn" id="whatsapp">Enviar Pedido por WhatsApp</a>

<script>
document.addEventListener("DOMContentLoaded", () => {

function guardarCarrito(){
  let carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];

  carrito = carrito.filter(i =>
    !document.querySelector(`input[data-nombre="${i.nombre}"]`)
  );

  document.querySelectorAll('.qty').forEach(input => {
    const cantidad = Number(input.value);
    if(cantidad > 0){
      carrito.push({
        nombre: input.dataset.nombre,
        precio: Number(input.dataset.precio),
        cantidad: cantidad
      });
    }
  });

  localStorage.setItem("carritoYumgifts", JSON.stringify(carrito));
  actualizarCarritoBtn();
}

function actualizarCarritoBtn(){
  const carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];
  const total = carrito.reduce((s,i)=>s+(i.precio*i.cantidad),0);
  document.getElementById('carritoBtn').innerText = `ðŸ›’ $${total}`;
}

document.querySelectorAll('.qty-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const input = btn.parentElement.querySelector('.qty');
    if(btn.textContent==='+' ) input.value++;
    if(btn.textContent==='-' && input.value>0) input.value--;
    guardarCarrito();
  });
});

document.querySelectorAll('.qty').forEach(i=>i.addEventListener('input', guardarCarrito));

document.getElementById('carritoBtn').addEventListener('click',()=>{
  document.getElementById('whatsapp').click();
});

document.getElementById('whatsapp').addEventListener('click', () => {
  const carrito = JSON.parse(localStorage.getItem("carritoYumgifts")) || [];
  if(carrito.length===0){ alert("AgregÃ¡ productos primero"); return; }

  let total = carrito.reduce((s,i)=>s+i.precio*i.cantidad,0);
  let productos = carrito.map(i=>`${i.nombre}: ${i.cantidad}`).join("\n");

  let mensaje =
`Â¡Hola Yumgiftsba! Te paso mi pedido:

${productos}

TOTAL: $${total}`;

  window.open(`https://wa.me/5491135936372?text=${encodeURIComponent(mensaje)}`,'_blank');
});

actualizarCarritoBtn();
});
</script>

</body>
</html>
